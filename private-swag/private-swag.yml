# This file is auto-generated by openmediavault (https://www.openmediavault.org)
# WARNING: Do not edit this file, your changes will get lost.

# private-swag
# reverse proxy
---
services:
  swag:
    image: lscr.io/linuxserver/swag:latest
    entrypoint: ["/usr/local/bin/init_cloudflare.sh"]
    container_name: swag
    cap_add:
      - NET_ADMIN
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - TZ=${TZ}
      - SWAG_AUTORELOAD=true
      - URL=bwfiq.com
      - SUBDOMAINS=wildcard
      - ONLY_SUBDOMAINS=true
      - EXTRA_DOMAINS=*.caprover.bwfiq.com,*.code-server.bwfiq.com,*.slayment.com,*.doldrive.com,aenyrathia.wiki
      - VALIDATION=dns
      - DNSPLUGIN=cloudflare
      - CERTPROVIDER=zerossl
      - EMAIL=mohammadrafiq567@gmail.com
    volumes:
      - ./data:/config
      - ./init_cloudflare.sh:/usr/local/bin/init_cloudflare.sh
    ports:
      - 443:443
    networks:
      - apollo_bridge
    secrets:
      - cloudflare-api-token
    labels:
      - diun.enable=true
    restart: always
networks:
  apollo_bridge:
    external: true
secrets:
  cloudflare-api-token:
    file: /run/secrets/cloudflare-api-token
